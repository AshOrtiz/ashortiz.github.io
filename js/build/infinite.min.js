function removeWrap(){$(".jscroll-added article").unwrap()}!function(a){"use strict";a.jscroll={defaults:{debug:!1,autoTrigger:!0,autoTriggerUntil:!1,loadingHtml:"<small>Loading...</small>",padding:0,nextSelector:"a:last",contentSelector:"",pagingSelector:"",callback:!1}};var b=function(b,c){var d=b.data("jscroll"),e="function"==typeof c?{callback:c}:c,f=a.extend({},a.jscroll.defaults,e,d||{}),g="visible"===b.css("overflow-y"),h=b.find(f.nextSelector).first(),i=a(window),j=a("body"),k=g?i:b,l=a.trim(h.attr("href")+" "+f.contentSelector),m=function(){b.find(".jscroll-inner").length||b.contents().wrapAll('<div class="jscroll-inner" />')},n=function(a){var b;f.pagingSelector?a.closest(f.pagingSelector).hide():(b=a.parent().not(".jscroll-inner,.jscroll-added").addClass("jscroll-next-parent").hide(),b.length||a.wrap('<div class="jscroll-next-parent" />').parent().hide())},o=function(){return k.unbind(".jscroll").removeData("jscroll").find(".jscroll-inner").children().unwrap().filter(".jscroll-added").children().unwrap()},p=function(){m();var a=b.find("div.jscroll-inner").first(),c=b.data("jscroll"),d=parseInt(b.css("borderTopWidth"),10),e=isNaN(d)?0:d,h=parseInt(b.css("paddingTop"),10)+e,i=g?k.scrollTop():b.offset().top,j=a.length?a.offset().top:0,l=Math.ceil(i-j+k.height()+h);if(!c.waiting&&l+f.padding>=a.outerHeight())return t("info","jScroll:",a.outerHeight()-l,"from bottom. Loading next request..."),s()},q=function(a){return a=a||b.data("jscroll"),a&&a.nextHref?(r(),!0):(t("warn","jScroll: nextSelector not found - destroying"),o(),!1)},r=function(){var a=b.find(f.nextSelector).first();a.length&&(f.autoTrigger&&(!1===f.autoTriggerUntil||f.autoTriggerUntil>0)?(n(a),j.height()<=i.height()&&p(),k.unbind(".jscroll").bind("scroll.jscroll",function(){return p()}),f.autoTriggerUntil>0&&f.autoTriggerUntil--):(k.unbind(".jscroll"),a.bind("click.jscroll",function(){return n(a),s(),!1})))},s=function(){var c=b.find("div.jscroll-inner").first(),d=b.data("jscroll");return d.waiting=!0,c.append('<div class="jscroll-added" />').children(".jscroll-added").last().html('<div class="jscroll-loading">'+f.loadingHtml+"</div>"),b.animate({scrollTop:c.outerHeight()},0,function(){c.find("div.jscroll-added").last().load(d.nextHref,function(c,e){if("error"===e)return o();var g=a(this).find(f.nextSelector).first();d.waiting=!1,d.nextHref=!!g.attr("href")&&a.trim(g.attr("href")+" "+f.contentSelector),a(".jscroll-next-parent",b).remove(),q(),f.callback&&f.callback.call(this),t("dir",d)})})},t=function(a){if(f.debug&&"object"==typeof console&&("object"==typeof a||"function"==typeof console[a]))if("object"==typeof a){var b=[];for(var c in a)"function"==typeof console[c]?(b=a[c].length?a[c]:[a[c]],console[c].apply(console,b)):console.log.apply(console,b)}else console[a].apply(console,Array.prototype.slice.call(arguments,1))};return b.data("jscroll",a.extend({},d,{initialized:!0,waiting:!1,nextHref:l})),m(),function(){var b=a(f.loadingHtml).filter("img").attr("src");if(b){(new Image).src=b}}(),r(),a.extend(b.jscroll,{destroy:o}),b};a.fn.jscroll=function(c){return this.each(function(){var d=a(this),e=d.data("jscroll");e&&e.initialized||new b(d,c)})}}(jQuery),$(document).ready(function(){$(".articles").jscroll({contentSelector:"article",nextSelector:".next",callback:removeWrap})});